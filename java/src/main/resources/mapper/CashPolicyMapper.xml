<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.highnes.attractinvestment.mapper.CashPolicyMapper">
    
    <sql id="cashPolicyColumns">
    a.id AS "id",
        a.construct_id AS "constructId",
        a.construct_text AS "constructText",
        a.cash_terms AS "cashTerms",
        a.cash_policy AS "cashPolicy",
        a.cash_text AS "cashText",
        a.cash_date AS "cashDate",
        a.cash_by AS "cashBy",
        a.create_time AS "createTime",
        a.create_by AS "createBy",
        a.update_date AS "updateDate",
        a.update_by AS "updateBy",
        a.del_flag AS "delFlag"        </sql>

    <sql id="cashPolicyLeftJoin">
    </sql>

    <select id="get" resultType="CashPolicy">
        SELECT
        <include refid="cashPolicyColumns"/>
        FROM
        cash_policy a
        <include refid="cashPolicyLeftJoin"/>
        WHERE a.id = #{id}
    </select>

    <select id="findList" resultType="CashPolicy">
        SELECT
        <include refid="cashPolicyColumns"/>
        FROM
        cash_policy a
        <include refid="cashPolicyLeftJoin"/>
        <where>
            a.del_flag = #{DEL_FLAG_NORMAL}
            <if test="constructId != null  and constructId != ''"> and a.construct_id = #{constructId}</if>
            </where>
    </select>

    <select id="findByConstructId" resultType="CashPolicy">
        SELECT
        <include refid="cashPolicyColumns"/>
        FROM
        cash_policy a
        <include refid="cashPolicyLeftJoin"/>
        <where>
            a.del_flag = #{DEL_FLAG_NORMAL}
            <if test="constructId != null  and constructId != ''"> and a.construct_id = #{constructId}</if>
        </where>
    </select>


    <insert id="insert" parameterType="CashPolicy">
        insert into cash_policy
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null  and id != ''">id,</if>
            <if test="constructId != null  and constructId != ''">construct_id,</if>
            <if test="constructText != null  and constructText != ''">construct_text,</if>
            <if test="cashTerms != null  and cashTerms != ''">cash_terms,</if>
            <if test="cashPolicy != null  and cashPolicy != ''">cash_policy,</if>
            <if test="cashText != null  and cashText != ''">cash_text,</if>
            <if test="cashDate != null ">cash_date,</if>
            <if test="cashBy != null  and cashBy != ''">cash_by,</if>
            <if test="createTime != null ">create_time,</if>
            <if test="createBy != null  and createBy != ''">create_by,</if>
            <if test="updateDate != null ">update_date,</if>
            <if test="updateBy != null  and updateBy != ''">update_by,</if>
            <if test="delFlag != null  and delFlag != ''">del_flag,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="id != null  and id != ''">#{id},</if>
            <if test="constructId != null  and constructId != ''">#{constructId},</if>
            <if test="constructText != null  and constructText != ''">#{constructText},</if>
            <if test="cashTerms != null  and cashTerms != ''">#{cashTerms},</if>
            <if test="cashPolicy != null  and cashPolicy != ''">#{cashPolicy},</if>
            <if test="cashText != null  and cashText != ''">#{cashText},</if>
            <if test="cashDate != null ">#{cashDate},</if>
            <if test="cashBy != null  and cashBy != ''">#{cashBy},</if>
            <if test="createTime != null ">#{createTime},</if>
            <if test="createBy != null  and createBy != ''">#{createBy},</if>
            <if test="updateDate != null ">#{updateDate},</if>
            <if test="updateBy != null  and updateBy != ''">#{updateBy},</if>
            <if test="delFlag != null  and delFlag != ''">#{delFlag},</if>
         </trim>
    </insert>

    <update id="update" parameterType="CashPolicy">
        update cash_policy
        <trim prefix="SET" suffixOverrides=",">
            <if test="constructId != null  and constructId != ''">construct_id = #{constructId},</if>
            <if test="constructText != null  and constructText != ''">construct_text = #{constructText},</if>
            <if test="cashTerms != null  and cashTerms != ''">cash_terms = #{cashTerms},</if>
            <if test="cashPolicy != null  and cashPolicy != ''">cash_policy = #{cashPolicy},</if>
            <if test="cashText != null  and cashText != ''">cash_text = #{cashText},</if>
            <if test="cashDate != null ">cash_date = #{cashDate},</if>
            <if test="cashBy != null  and cashBy != ''">cash_by = #{cashBy},</if>
            <if test="createTime != null ">create_time = #{createTime},</if>
            <if test="createBy != null  and createBy != ''">create_by = #{createBy},</if>
            <if test="updateDate != null ">update_date = #{updateDate},</if>
            <if test="updateBy != null  and updateBy != ''">update_by = #{updateBy},</if>
            <if test="delFlag != null  and delFlag != ''">del_flag = #{delFlag},</if>
        </trim>
        where id = #{id}
    </update>

    <delete id="delete" parameterType="String">
        update cash_policy set del_flag = #{DEL_FLAG_DELETE} where id = #{id}
    </delete>

</mapper>